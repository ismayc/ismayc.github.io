name: Deploy Shiny App

on:
  schedule:
    # Runs every day at 5:15 AM Pacific
    - cron: '15 13 * * *'
  workflow_dispatch:    

jobs:
  deploy:
    runs-on: macOS-latest
    steps:
      - uses: actions/checkout@v2
      - name: deploy
        uses: BDSI-Utwente/shinyapps-deploy-github-action@v1
        with:
          appDir: nba-over-under-2023-2024/points-calculator
          appName: over-under-points-calculator
          accountName: ${{ secrets.SHINYAPPS_ACCOUNT }}
          accountToken: ${{ secrets.SHINYAPPS_TOKEN }}
          accountSecret: ${{ secrets.SHINYAPPS_SECRET }}
